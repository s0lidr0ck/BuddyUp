"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/challenges/route";
exports.ids = ["app/api/challenges/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "./action-async-storage.external?8652":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external?0211":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external?137c":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchallenges%2Froute&page=%2Fapi%2Fchallenges%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchallenges%2Froute.ts&appDir=C%3A%5CUsers%5Cpursu%5CDocuments%5CGitHub%5CBuddyUp%5CBuddyUp%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpursu%5CDocuments%5CGitHub%5CBuddyUp%5CBuddyUp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchallenges%2Froute&page=%2Fapi%2Fchallenges%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchallenges%2Froute.ts&appDir=C%3A%5CUsers%5Cpursu%5CDocuments%5CGitHub%5CBuddyUp%5CBuddyUp%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpursu%5CDocuments%5CGitHub%5CBuddyUp%5CBuddyUp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_pursu_Documents_GitHub_BuddyUp_BuddyUp_src_app_api_challenges_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/challenges/route.ts */ \"(rsc)/./src/app/api/challenges/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/challenges/route\",\n        pathname: \"/api/challenges\",\n        filename: \"route\",\n        bundlePath: \"app/api/challenges/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\pursu\\\\Documents\\\\GitHub\\\\BuddyUp\\\\BuddyUp\\\\src\\\\app\\\\api\\\\challenges\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_pursu_Documents_GitHub_BuddyUp_BuddyUp_src_app_api_challenges_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/challenges/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGFsbGVuZ2VzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGFsbGVuZ2VzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhbGxlbmdlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNwdXJzdSU1Q0RvY3VtZW50cyU1Q0dpdEh1YiU1Q0J1ZGR5VXAlNUNCdWRkeVVwJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNwdXJzdSU1Q0RvY3VtZW50cyU1Q0dpdEh1YiU1Q0J1ZGR5VXAlNUNCdWRkeVVwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzBDO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVkZHl1cC8/MTkxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxwdXJzdVxcXFxEb2N1bWVudHNcXFxcR2l0SHViXFxcXEJ1ZGR5VXBcXFxcQnVkZHlVcFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxjaGFsbGVuZ2VzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jaGFsbGVuZ2VzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY2hhbGxlbmdlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY2hhbGxlbmdlcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHB1cnN1XFxcXERvY3VtZW50c1xcXFxHaXRIdWJcXFxcQnVkZHlVcFxcXFxCdWRkeVVwXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGNoYWxsZW5nZXNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY2hhbGxlbmdlcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchallenges%2Froute&page=%2Fapi%2Fchallenges%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchallenges%2Froute.ts&appDir=C%3A%5CUsers%5Cpursu%5CDocuments%5CGitHub%5CBuddyUp%5CBuddyUp%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpursu%5CDocuments%5CGitHub%5CBuddyUp%5CBuddyUp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/challenges/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/challenges/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/next */ \"(rsc)/./node_modules/next-auth/next/index.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/dist/esm/index.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/navigation */ \"(rsc)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nconst createChallengeSchema = zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n    partnershipId: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n    title: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().min(1),\n    description: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().optional(),\n    dueDate: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().transform((str)=>new Date(str))\n});\nconst completeChallengeSchema = zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n    challengeId: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n    status: zod__WEBPACK_IMPORTED_MODULE_4__.z[\"enum\"]([\n        \"COMPLETED\",\n        \"MISSED\",\n        \"SKIPPED\"\n    ]).default(\"COMPLETED\"),\n    feelingTags: zod__WEBPACK_IMPORTED_MODULE_4__.z.array(zod__WEBPACK_IMPORTED_MODULE_4__.z.string()).optional(),\n    reflectionNote: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().optional()\n});\nasync function GET(request) {\n    try {\n        const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user?.id) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const url = new URL(request.url);\n        const partnershipId = url.searchParams.get(\"partnershipId\");\n        if (!partnershipId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Partnership ID required\"\n            }, {\n                status: 400\n            });\n        }\n        // Verify user is part of partnership\n        const partnership = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.partnership.findFirst({\n            where: {\n                id: partnershipId,\n                OR: [\n                    {\n                        initiatorId: session.user.id\n                    },\n                    {\n                        receiverId: session.user.id\n                    }\n                ]\n            }\n        });\n        if (!partnership) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Partnership not found\"\n            }, {\n                status: 404\n            });\n        }\n        const challenges = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.challenge.findMany({\n            where: {\n                partnershipId\n            },\n            include: {\n                creator: {\n                    select: {\n                        id: true,\n                        name: true,\n                        email: true,\n                        image: true\n                    }\n                },\n                completions: {\n                    include: {\n                        user: {\n                            select: {\n                                id: true,\n                                name: true,\n                                email: true,\n                                image: true\n                            }\n                        }\n                    }\n                }\n            },\n            orderBy: {\n                createdAt: \"desc\"\n            }\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            challenges\n        });\n    } catch (error) {\n        console.error(\"Error fetching challenges:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n    if (!session?.user?.id) {\n        return Response.json({\n            error: \"Unauthorized\"\n        }, {\n            status: 401\n        });\n    }\n    try {\n        const formData = await request.formData();\n        const habitId = formData.get(\"habitId\");\n        const title = formData.get(\"title\");\n        const description = formData.get(\"description\");\n        if (!habitId || !title) {\n            return Response.json({\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        // Verify user has access to this habit\n        const habit = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.habit.findUnique({\n            where: {\n                id: habitId\n            },\n            include: {\n                partnership: true\n            }\n        });\n        if (!habit) {\n            return Response.json({\n                error: \"Habit not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Check if user is part of this habit\n        const isParticipant = habit.createdById === session.user.id || habit.partnership.initiatorId === session.user.id || habit.partnership.receiverId === session.user.id;\n        if (!isParticipant || habit.status !== \"ACTIVE\") {\n            return Response.json({\n                error: \"Access denied\"\n            }, {\n                status: 403\n            });\n        }\n        // Check if there's already a challenge for today\n        const today = new Date();\n        today.setHours(23, 59, 59, 999) // End of today\n        ;\n        const todayStart = new Date();\n        todayStart.setHours(0, 0, 0, 0) // Start of today\n        ;\n        const existingChallenge = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.challenge.findFirst({\n            where: {\n                habitId: habitId,\n                creatorId: session.user.id,\n                dueDate: {\n                    gte: todayStart,\n                    lte: today\n                }\n            }\n        });\n        if (existingChallenge) {\n            return Response.json({\n                error: \"Challenge already exists for today\"\n            }, {\n                status: 400\n            });\n        }\n        // Create the challenge\n        const challenge = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.challenge.create({\n            data: {\n                habitId: habitId,\n                creatorId: session.user.id,\n                title: title.trim(),\n                description: description?.trim() || null,\n                dueDate: today\n            }\n        });\n        // Update habit's current turn (for alternating challenge creation)\n        const partnerId = habit.partnership.initiatorId === session.user.id ? habit.partnership.receiverId : habit.partnership.initiatorId;\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.habit.update({\n            where: {\n                id: habitId\n            },\n            data: {\n                currentTurn: partnerId,\n                updatedAt: new Date()\n            }\n        });\n        return (0,next_navigation__WEBPACK_IMPORTED_MODULE_5__.redirect)(`/challenges/${challenge.id}`);\n    } catch (error) {\n        console.error(\"Error creating challenge:\", error);\n        return Response.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Complete a challenge\nasync function PATCH(request) {\n    try {\n        const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user?.id) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const data = completeChallengeSchema.parse(body);\n        // Verify challenge exists and user is part of partnership\n        const challenge = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.challenge.findFirst({\n            where: {\n                id: data.challengeId,\n                partnership: {\n                    OR: [\n                        {\n                            initiatorId: session.user.id\n                        },\n                        {\n                            receiverId: session.user.id\n                        }\n                    ]\n                }\n            },\n            include: {\n                partnership: true\n            }\n        });\n        if (!challenge) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Challenge not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Check if already completed by this user\n        const existingCompletion = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.challengeCompletion.findUnique({\n            where: {\n                challengeId_userId: {\n                    challengeId: data.challengeId,\n                    userId: session.user.id\n                }\n            }\n        });\n        if (existingCompletion) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Challenge already completed\"\n            }, {\n                status: 400\n            });\n        }\n        const completion = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.challengeCompletion.create({\n            data: {\n                challengeId: data.challengeId,\n                userId: session.user.id,\n                status: data.status,\n                feelingTags: data.feelingTags ? JSON.stringify(data.feelingTags) : null,\n                reflectionNote: data.reflectionNote\n            }\n        });\n        // Update partnership turn and streak\n        const otherUserId = challenge.partnership.initiatorId === session.user.id ? challenge.partnership.receiverId : challenge.partnership.initiatorId;\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.partnership.update({\n            where: {\n                id: challenge.partnershipId\n            },\n            data: {\n                currentTurn: otherUserId,\n                streakCount: data.status === \"COMPLETED\" ? {\n                    increment: 1\n                } : {\n                    set: 0\n                },\n                totalDays: {\n                    increment: 1\n                }\n            }\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            completion\n        });\n    } catch (error) {\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_4__.z.ZodError) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Invalid data\",\n                details: error.errors\n            }, {\n                status: 400\n            });\n        }\n        console.error(\"Error completing challenge:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBRSxJQUNmO29CQUFFQyxLQUFLO2dCQUFFO2dCQUNiQyxXQUFXO29CQUFFRixXQUFXO2dCQUFFO1lBQzVCO1FBQ0Y7UUFFQSxPQUFPMUYsa0ZBQVlBLENBQUMrQixJQUFJLENBQUM7WUFBRXNEO1FBQVc7SUFDeEMsRUFBRSxPQUFPckQsT0FBTztRQUNkLElBQUlBLGlCQUFpQjVCLDJDQUFVLEVBQUU7WUFDL0IsT0FBT0osa0ZBQVlBLENBQUMrQixJQUFJLENBQUM7Z0JBQUVDLE9BQU87Z0JBQWdCOEQsU0FBUzlELE1BQU0rRCxNQUFNO1lBQUMsR0FBRztnQkFBRTNFLFFBQVE7WUFBSTtRQUMzRjtRQUNBbUMsUUFBUXZCLEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU9oQyxrRkFBWUEsQ0FBQytCLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXdCLEdBQUc7WUFBRVosUUFBUTtRQUFJO0lBQzdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeXVwLy4vc3JjL2FwcC9hcGkvY2hhbGxlbmdlcy9yb3V0ZS50cz82OGYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aC9uZXh0J1xyXG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJ0AvbGliL2F1dGgnXHJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvbGliL3ByaXNtYSdcclxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcclxuaW1wb3J0IHsgcmVkaXJlY3QgfSBmcm9tICduZXh0L25hdmlnYXRpb24nXHJcblxyXG5jb25zdCBjcmVhdGVDaGFsbGVuZ2VTY2hlbWEgPSB6Lm9iamVjdCh7XHJcbiAgcGFydG5lcnNoaXBJZDogei5zdHJpbmcoKSxcclxuICB0aXRsZTogei5zdHJpbmcoKS5taW4oMSksXHJcbiAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICBkdWVEYXRlOiB6LnN0cmluZygpLnRyYW5zZm9ybSgoc3RyKSA9PiBuZXcgRGF0ZShzdHIpKSxcclxufSlcclxuXHJcbmNvbnN0IGNvbXBsZXRlQ2hhbGxlbmdlU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIGNoYWxsZW5nZUlkOiB6LnN0cmluZygpLFxyXG4gIHN0YXR1czogei5lbnVtKFsnQ09NUExFVEVEJywgJ01JU1NFRCcsICdTS0lQUEVEJ10pLmRlZmF1bHQoJ0NPTVBMRVRFRCcpLFxyXG4gIGZlZWxpbmdUYWdzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXHJcbiAgcmVmbGVjdGlvbk5vdGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxufSlcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpXHJcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybClcclxuICAgIGNvbnN0IHBhcnRuZXJzaGlwSWQgPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgncGFydG5lcnNoaXBJZCcpXHJcblxyXG4gICAgaWYgKCFwYXJ0bmVyc2hpcElkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnUGFydG5lcnNoaXAgSUQgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJpZnkgdXNlciBpcyBwYXJ0IG9mIHBhcnRuZXJzaGlwXHJcbiAgICBjb25zdCBwYXJ0bmVyc2hpcCA9IGF3YWl0IHByaXNtYS5wYXJ0bmVyc2hpcC5maW5kRmlyc3Qoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIGlkOiBwYXJ0bmVyc2hpcElkLFxyXG4gICAgICAgIE9SOiBbXHJcbiAgICAgICAgICB7IGluaXRpYXRvcklkOiBzZXNzaW9uLnVzZXIuaWQgfSxcclxuICAgICAgICAgIHsgcmVjZWl2ZXJJZDogc2Vzc2lvbi51c2VyLmlkIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gICAgaWYgKCFwYXJ0bmVyc2hpcCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1BhcnRuZXJzaGlwIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNoYWxsZW5nZXMgPSBhd2FpdCBwcmlzbWEuY2hhbGxlbmdlLmZpbmRNYW55KHtcclxuICAgICAgd2hlcmU6IHsgcGFydG5lcnNoaXBJZCB9LFxyXG4gICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgY3JlYXRvcjoge1xyXG4gICAgICAgICAgc2VsZWN0OiB7IGlkOiB0cnVlLCBuYW1lOiB0cnVlLCBlbWFpbDogdHJ1ZSwgaW1hZ2U6IHRydWUgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBsZXRpb25zOiB7XHJcbiAgICAgICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICBzZWxlY3Q6IHsgaWQ6IHRydWUsIG5hbWU6IHRydWUsIGVtYWlsOiB0cnVlLCBpbWFnZTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNoYWxsZW5nZXMgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY2hhbGxlbmdlczonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XHJcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpXHJcbiAgXHJcbiAgaWYgKCFzZXNzaW9uPy51c2VyPy5pZCkge1xyXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpXHJcbiAgICBjb25zdCBoYWJpdElkID0gZm9ybURhdGEuZ2V0KCdoYWJpdElkJykgYXMgc3RyaW5nXHJcbiAgICBjb25zdCB0aXRsZSA9IGZvcm1EYXRhLmdldCgndGl0bGUnKSBhcyBzdHJpbmdcclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZm9ybURhdGEuZ2V0KCdkZXNjcmlwdGlvbicpIGFzIHN0cmluZ1xyXG5cclxuICAgIGlmICghaGFiaXRJZCB8fCAhdGl0bGUpIHtcclxuICAgICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzJyB9LCB7IHN0YXR1czogNDAwIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZ5IHVzZXIgaGFzIGFjY2VzcyB0byB0aGlzIGhhYml0XHJcbiAgICBjb25zdCBoYWJpdCA9IGF3YWl0IHByaXNtYS5oYWJpdC5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHsgaWQ6IGhhYml0SWQgfSxcclxuICAgICAgaW5jbHVkZToge1xyXG4gICAgICAgIHBhcnRuZXJzaGlwOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgaWYgKCFoYWJpdCkge1xyXG4gICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IGVycm9yOiAnSGFiaXQgbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBwYXJ0IG9mIHRoaXMgaGFiaXRcclxuICAgIGNvbnN0IGlzUGFydGljaXBhbnQgPSBcclxuICAgICAgaGFiaXQuY3JlYXRlZEJ5SWQgPT09IHNlc3Npb24udXNlci5pZCB8fFxyXG4gICAgICBoYWJpdC5wYXJ0bmVyc2hpcC5pbml0aWF0b3JJZCA9PT0gc2Vzc2lvbi51c2VyLmlkIHx8XHJcbiAgICAgIGhhYml0LnBhcnRuZXJzaGlwLnJlY2VpdmVySWQgPT09IHNlc3Npb24udXNlci5pZFxyXG5cclxuICAgIGlmICghaXNQYXJ0aWNpcGFudCB8fCBoYWJpdC5zdGF0dXMgIT09ICdBQ1RJVkUnKSB7XHJcbiAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdBY2Nlc3MgZGVuaWVkJyB9LCB7IHN0YXR1czogNDAzIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhbHJlYWR5IGEgY2hhbGxlbmdlIGZvciB0b2RheVxyXG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpXHJcbiAgICB0b2RheS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpIC8vIEVuZCBvZiB0b2RheVxyXG5cclxuICAgIGNvbnN0IHRvZGF5U3RhcnQgPSBuZXcgRGF0ZSgpXHJcbiAgICB0b2RheVN0YXJ0LnNldEhvdXJzKDAsIDAsIDAsIDApIC8vIFN0YXJ0IG9mIHRvZGF5XHJcblxyXG4gICAgY29uc3QgZXhpc3RpbmdDaGFsbGVuZ2UgPSBhd2FpdCBwcmlzbWEuY2hhbGxlbmdlLmZpbmRGaXJzdCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgaGFiaXRJZDogaGFiaXRJZCxcclxuICAgICAgICBjcmVhdG9ySWQ6IHNlc3Npb24udXNlci5pZCxcclxuICAgICAgICBkdWVEYXRlOiB7XHJcbiAgICAgICAgICBndGU6IHRvZGF5U3RhcnQsXHJcbiAgICAgICAgICBsdGU6IHRvZGF5XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGlmIChleGlzdGluZ0NoYWxsZW5nZSkge1xyXG4gICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IGVycm9yOiAnQ2hhbGxlbmdlIGFscmVhZHkgZXhpc3RzIGZvciB0b2RheScgfSwgeyBzdGF0dXM6IDQwMCB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgY2hhbGxlbmdlXHJcbiAgICBjb25zdCBjaGFsbGVuZ2UgPSBhd2FpdCBwcmlzbWEuY2hhbGxlbmdlLmNyZWF0ZSh7XHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBoYWJpdElkOiBoYWJpdElkLFxyXG4gICAgICAgIGNyZWF0b3JJZDogc2Vzc2lvbi51c2VyLmlkLFxyXG4gICAgICAgIHRpdGxlOiB0aXRsZS50cmltKCksXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uPy50cmltKCkgfHwgbnVsbCxcclxuICAgICAgICBkdWVEYXRlOiB0b2RheVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFVwZGF0ZSBoYWJpdCdzIGN1cnJlbnQgdHVybiAoZm9yIGFsdGVybmF0aW5nIGNoYWxsZW5nZSBjcmVhdGlvbilcclxuICAgIGNvbnN0IHBhcnRuZXJJZCA9IGhhYml0LnBhcnRuZXJzaGlwLmluaXRpYXRvcklkID09PSBzZXNzaW9uLnVzZXIuaWQgXHJcbiAgICAgID8gaGFiaXQucGFydG5lcnNoaXAucmVjZWl2ZXJJZCBcclxuICAgICAgOiBoYWJpdC5wYXJ0bmVyc2hpcC5pbml0aWF0b3JJZFxyXG5cclxuICAgIGF3YWl0IHByaXNtYS5oYWJpdC51cGRhdGUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogaGFiaXRJZCB9LFxyXG4gICAgICBkYXRhOiB7IFxyXG4gICAgICAgIGN1cnJlbnRUdXJuOiBwYXJ0bmVySWQsIC8vIFN3aXRjaCB0dXJuIHRvIGJ1ZGR5IGZvciBuZXh0IGNoYWxsZW5nZVxyXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiByZWRpcmVjdChgL2NoYWxsZW5nZXMvJHtjaGFsbGVuZ2UuaWR9YClcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGNoYWxsZW5nZTonLCBlcnJvcilcclxuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSlcclxuICB9XHJcbn1cclxuXHJcbi8vIENvbXBsZXRlIGEgY2hhbGxlbmdlXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQQVRDSChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucylcclxuICAgIGlmICghc2Vzc2lvbj8udXNlcj8uaWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcclxuICAgIGNvbnN0IGRhdGEgPSBjb21wbGV0ZUNoYWxsZW5nZVNjaGVtYS5wYXJzZShib2R5KVxyXG5cclxuICAgIC8vIFZlcmlmeSBjaGFsbGVuZ2UgZXhpc3RzIGFuZCB1c2VyIGlzIHBhcnQgb2YgcGFydG5lcnNoaXBcclxuICAgIGNvbnN0IGNoYWxsZW5nZSA9IGF3YWl0IHByaXNtYS5jaGFsbGVuZ2UuZmluZEZpcnN0KHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBpZDogZGF0YS5jaGFsbGVuZ2VJZCxcclxuICAgICAgICBwYXJ0bmVyc2hpcDoge1xyXG4gICAgICAgICAgT1I6IFtcclxuICAgICAgICAgICAgeyBpbml0aWF0b3JJZDogc2Vzc2lvbi51c2VyLmlkIH0sXHJcbiAgICAgICAgICAgIHsgcmVjZWl2ZXJJZDogc2Vzc2lvbi51c2VyLmlkIH0sXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICBwYXJ0bmVyc2hpcDogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gICAgaWYgKCFjaGFsbGVuZ2UpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdDaGFsbGVuZ2Ugbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBjb21wbGV0ZWQgYnkgdGhpcyB1c2VyXHJcbiAgICBjb25zdCBleGlzdGluZ0NvbXBsZXRpb24gPSBhd2FpdCBwcmlzbWEuY2hhbGxlbmdlQ29tcGxldGlvbi5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBjaGFsbGVuZ2VJZF91c2VySWQ6IHtcclxuICAgICAgICAgIGNoYWxsZW5nZUlkOiBkYXRhLmNoYWxsZW5nZUlkLFxyXG4gICAgICAgICAgdXNlcklkOiBzZXNzaW9uLnVzZXIuaWQsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gICAgaWYgKGV4aXN0aW5nQ29tcGxldGlvbikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0NoYWxsZW5nZSBhbHJlYWR5IGNvbXBsZXRlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCBwcmlzbWEuY2hhbGxlbmdlQ29tcGxldGlvbi5jcmVhdGUoe1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgY2hhbGxlbmdlSWQ6IGRhdGEuY2hhbGxlbmdlSWQsXHJcbiAgICAgICAgdXNlcklkOiBzZXNzaW9uLnVzZXIuaWQsXHJcbiAgICAgICAgc3RhdHVzOiBkYXRhLnN0YXR1cyxcclxuICAgICAgICBmZWVsaW5nVGFnczogZGF0YS5mZWVsaW5nVGFncyA/IEpTT04uc3RyaW5naWZ5KGRhdGEuZmVlbGluZ1RhZ3MpIDogbnVsbCxcclxuICAgICAgICByZWZsZWN0aW9uTm90ZTogZGF0YS5yZWZsZWN0aW9uTm90ZSxcclxuICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gICAgLy8gVXBkYXRlIHBhcnRuZXJzaGlwIHR1cm4gYW5kIHN0cmVha1xyXG4gICAgY29uc3Qgb3RoZXJVc2VySWQgPSBjaGFsbGVuZ2UucGFydG5lcnNoaXAuaW5pdGlhdG9ySWQgPT09IHNlc3Npb24udXNlci5pZFxyXG4gICAgICA/IGNoYWxsZW5nZS5wYXJ0bmVyc2hpcC5yZWNlaXZlcklkXHJcbiAgICAgIDogY2hhbGxlbmdlLnBhcnRuZXJzaGlwLmluaXRpYXRvcklkXHJcblxyXG4gICAgYXdhaXQgcHJpc21hLnBhcnRuZXJzaGlwLnVwZGF0ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBjaGFsbGVuZ2UucGFydG5lcnNoaXBJZCB9LFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgY3VycmVudFR1cm46IG90aGVyVXNlcklkLFxyXG4gICAgICAgIHN0cmVha0NvdW50OiBkYXRhLnN0YXR1cyA9PT0gJ0NPTVBMRVRFRCcgXHJcbiAgICAgICAgICA/IHsgaW5jcmVtZW50OiAxIH1cclxuICAgICAgICAgIDogeyBzZXQ6IDAgfSxcclxuICAgICAgICB0b3RhbERheXM6IHsgaW5jcmVtZW50OiAxIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNvbXBsZXRpb24gfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgZGF0YScsIGRldGFpbHM6IGVycm9yLmVycm9ycyB9LCB7IHN0YXR1czogNDAwIH0pXHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb21wbGV0aW5nIGNoYWxsZW5nZTonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pXHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJwcmlzbWEiLCJ6IiwicmVkaXJlY3QiLCJjcmVhdGVDaGFsbGVuZ2VTY2hlbWEiLCJvYmplY3QiLCJwYXJ0bmVyc2hpcElkIiwic3RyaW5nIiwidGl0bGUiLCJtaW4iLCJkZXNjcmlwdGlvbiIsIm9wdGlvbmFsIiwiZHVlRGF0ZSIsInRyYW5zZm9ybSIsInN0ciIsIkRhdGUiLCJjb21wbGV0ZUNoYWxsZW5nZVNjaGVtYSIsImNoYWxsZW5nZUlkIiwic3RhdHVzIiwiZW51bSIsImRlZmF1bHQiLCJmZWVsaW5nVGFncyIsImFycmF5IiwicmVmbGVjdGlvbk5vdGUiLCJHRVQiLCJyZXF1ZXN0Iiwic2Vzc2lvbiIsInVzZXIiLCJpZCIsImpzb24iLCJlcnJvciIsInVybCIsIlVSTCIsInNlYXJjaFBhcmFtcyIsImdldCIsInBhcnRuZXJzaGlwIiwiZmluZEZpcnN0Iiwid2hlcmUiLCJPUiIsImluaXRpYXRvcklkIiwicmVjZWl2ZXJJZCIsImNoYWxsZW5nZXMiLCJjaGFsbGVuZ2UiLCJmaW5kTWFueSIsImluY2x1ZGUiLCJjcmVhdG9yIiwic2VsZWN0IiwibmFtZSIsImVtYWlsIiwiaW1hZ2UiLCJjb21wbGV0aW9ucyIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJjb25zb2xlIiwiUE9TVCIsIlJlc3BvbnNlIiwiZm9ybURhdGEiLCJoYWJpdElkIiwiaGFiaXQiLCJmaW5kVW5pcXVlIiwiaXNQYXJ0aWNpcGFudCIsImNyZWF0ZWRCeUlkIiwidG9kYXkiLCJzZXRIb3VycyIsInRvZGF5U3RhcnQiLCJleGlzdGluZ0NoYWxsZW5nZSIsImNyZWF0b3JJZCIsImd0ZSIsImx0ZSIsImNyZWF0ZSIsImRhdGEiLCJ0cmltIiwicGFydG5lcklkIiwidXBkYXRlIiwiY3VycmVudFR1cm4iLCJ1cGRhdGVkQXQiLCJQQVRDSCIsImJvZHkiLCJwYXJzZSIsImV4aXN0aW5nQ29tcGxldGlvbiIsImNoYWxsZW5nZUNvbXBsZXRpb24iLCJjaGFsbGVuZ2VJZF91c2VySWQiLCJ1c2VySWQiLCJjb21wbGV0aW9uIiwiSlNPTiIsInN0cmluZ2lmeSIsIm90aGVyVXNlcklkIiwic3RyZWFrQ291bnQiLCJpbmNyZW1lbnQiLCJzZXQiLCJ0b3RhbERheXMiLCJab2RFcnJvciIsImRldGFpbHMiLCJlcnJvcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/challenges/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @next-auth/prisma-adapter */ \"(rsc)/./node_modules/@next-auth/prisma-adapter/dist/index.js\");\n/* harmony import */ var next_auth_providers_email__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/email */ \"(rsc)/./node_modules/next-auth/providers/email.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n\n\n\n\n\n\nconst authOptions = {\n    adapter: (0,_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaAdapter)(_prisma__WEBPACK_IMPORTED_MODULE_4__.prisma),\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                const user = await _prisma__WEBPACK_IMPORTED_MODULE_4__.prisma.user.findUnique({\n                    where: {\n                        email: credentials.email\n                    }\n                });\n                if (!user || !user.password) {\n                    return null;\n                }\n                const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_5__[\"default\"].compare(credentials.password, user.password);\n                if (!isPasswordValid) {\n                    return null;\n                }\n                return {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name\n                };\n            }\n        }),\n        (0,next_auth_providers_email__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            server: {\n                host: process.env.EMAIL_SERVER_HOST,\n                port: Number(process.env.EMAIL_SERVER_PORT),\n                auth: {\n                    user: process.env.EMAIL_SERVER_USER,\n                    pass: process.env.EMAIL_SERVER_PASSWORD\n                }\n            },\n            from: process.env.EMAIL_FROM\n        }),\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID || \"\",\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\"\n        })\n    ],\n    callbacks: {\n        session: async ({ session, token })=>{\n            if (session?.user && token?.sub) {\n                session.user.id = token.sub;\n            }\n            return session;\n        },\n        jwt: async ({ user, token })=>{\n            if (user) {\n                token.uid = user.id;\n            }\n            return token;\n        }\n    },\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/auth/signin\",\n        error: \"/auth/error\"\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUN5RDtBQUNKO0FBQ1k7QUFDVjtBQUN0QjtBQUNKO0FBRXRCLE1BQU1NLGNBQStCO0lBQzFDQyxTQUFTUCx3RUFBYUEsQ0FBQ0ksMkNBQU1BO0lBQzdCSSxXQUFXO1FBQ1ROLDJFQUFtQkEsQ0FBQztZQUNsQk8sTUFBTTtZQUNOQyxhQUFhO2dCQUNYQyxPQUFPO29CQUFFQyxPQUFPO29CQUFTQyxNQUFNO2dCQUFRO2dCQUN2Q0MsVUFBVTtvQkFBRUYsT0FBTztvQkFBWUMsTUFBTTtnQkFBVztZQUNsRDtZQUNBLE1BQU1FLFdBQVVMLFdBQVc7Z0JBQ3pCLElBQUksQ0FBQ0EsYUFBYUMsU0FBUyxDQUFDRCxhQUFhSSxVQUFVO29CQUNqRCxPQUFPO2dCQUNUO2dCQUVBLE1BQU1FLE9BQU8sTUFBTVosMkNBQU1BLENBQUNZLElBQUksQ0FBQ0MsVUFBVSxDQUFDO29CQUN4Q0MsT0FBTzt3QkFBRVAsT0FBT0QsWUFBWUMsS0FBSztvQkFBQztnQkFDcEM7Z0JBRUEsSUFBSSxDQUFDSyxRQUFRLENBQUNBLEtBQUtGLFFBQVEsRUFBRTtvQkFDM0IsT0FBTztnQkFDVDtnQkFFQSxNQUFNSyxrQkFBa0IsTUFBTWQsd0RBQWMsQ0FBQ0ssWUFBWUksUUFBUSxFQUFFRSxLQUFLRixRQUFRO2dCQUVoRixJQUFJLENBQUNLLGlCQUFpQjtvQkFDcEIsT0FBTztnQkFDVDtnQkFFQSxPQUFPO29CQUNMRSxJQUFJTCxLQUFLSyxFQUFFO29CQUNYVixPQUFPSyxLQUFLTCxLQUFLO29CQUNqQkYsTUFBTU8sS0FBS1AsSUFBSTtnQkFDakI7WUFDRjtRQUNGO1FBQ0FSLHFFQUFhQSxDQUFDO1lBQ1pxQixRQUFRO2dCQUNOQyxNQUFNQyxRQUFRQyxHQUFHLENBQUNDLGlCQUFpQjtnQkFDbkNDLE1BQU1DLE9BQU9KLFFBQVFDLEdBQUcsQ0FBQ0ksaUJBQWlCO2dCQUMxQ0MsTUFBTTtvQkFDSmQsTUFBTVEsUUFBUUMsR0FBRyxDQUFDTSxpQkFBaUI7b0JBQ25DQyxNQUFNUixRQUFRQyxHQUFHLENBQUNRLHFCQUFxQjtnQkFDekM7WUFDRjtZQUNBQyxNQUFNVixRQUFRQyxHQUFHLENBQUNVLFVBQVU7UUFDOUI7UUFDQWhDLHNFQUFjQSxDQUFDO1lBQ2JpQyxVQUFVWixRQUFRQyxHQUFHLENBQUNZLGdCQUFnQixJQUFJO1lBQzFDQyxjQUFjZCxRQUFRQyxHQUFHLENBQUNjLG9CQUFvQixJQUFJO1FBQ3BEO0tBQ0Q7SUFDREMsV0FBVztRQUNUQyxTQUFTLE9BQU8sRUFBRUEsT0FBTyxFQUFFQyxLQUFLLEVBQUU7WUFDaEMsSUFBSUQsU0FBU3pCLFFBQVEwQixPQUFPQyxLQUFLO2dCQUMvQkYsUUFBUXpCLElBQUksQ0FBQ0ssRUFBRSxHQUFHcUIsTUFBTUMsR0FBRztZQUM3QjtZQUNBLE9BQU9GO1FBQ1Q7UUFDQUcsS0FBSyxPQUFPLEVBQUU1QixJQUFJLEVBQUUwQixLQUFLLEVBQUU7WUFDekIsSUFBSTFCLE1BQU07Z0JBQ1IwQixNQUFNRyxHQUFHLEdBQUc3QixLQUFLSyxFQUFFO1lBQ3JCO1lBQ0EsT0FBT3FCO1FBQ1Q7SUFDRjtJQUNBRCxTQUFTO1FBQ1BLLFVBQVU7SUFDWjtJQUNBQyxPQUFPO1FBQ0xDLFFBQVE7UUFDUkMsT0FBTztJQUNUO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1ZGR5dXAvLi9zcmMvbGliL2F1dGgudHM/NjY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tICduZXh0LWF1dGgnXHJcbmltcG9ydCB7IFByaXNtYUFkYXB0ZXIgfSBmcm9tICdAbmV4dC1hdXRoL3ByaXNtYS1hZGFwdGVyJ1xyXG5pbXBvcnQgRW1haWxQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2VtYWlsJ1xyXG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJ1xyXG5pbXBvcnQgR29vZ2xlUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGUnXHJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJy4vcHJpc21hJ1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5cclxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XHJcbiAgYWRhcHRlcjogUHJpc21hQWRhcHRlcihwcmlzbWEpLFxyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XHJcbiAgICAgIG5hbWU6ICdjcmVkZW50aWFscycsXHJcbiAgICAgIGNyZWRlbnRpYWxzOiB7XHJcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcclxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogJ1Bhc3N3b3JkJywgdHlwZTogJ3Bhc3N3b3JkJyB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xyXG4gICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcclxuICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgICB3aGVyZTogeyBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGlmICghdXNlciB8fCAhdXNlci5wYXNzd29yZCkge1xyXG4gICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKGNyZWRlbnRpYWxzLnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKVxyXG5cclxuICAgICAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xyXG4gICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpZDogdXNlci5pZCxcclxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSksXHJcbiAgICBFbWFpbFByb3ZpZGVyKHtcclxuICAgICAgc2VydmVyOiB7XHJcbiAgICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuRU1BSUxfU0VSVkVSX0hPU1QsXHJcbiAgICAgICAgcG9ydDogTnVtYmVyKHByb2Nlc3MuZW52LkVNQUlMX1NFUlZFUl9QT1JUKSxcclxuICAgICAgICBhdXRoOiB7XHJcbiAgICAgICAgICB1c2VyOiBwcm9jZXNzLmVudi5FTUFJTF9TRVJWRVJfVVNFUixcclxuICAgICAgICAgIHBhc3M6IHByb2Nlc3MuZW52LkVNQUlMX1NFUlZFUl9QQVNTV09SRCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBmcm9tOiBwcm9jZXNzLmVudi5FTUFJTF9GUk9NLFxyXG4gICAgfSksXHJcbiAgICBHb29nbGVQcm92aWRlcih7XHJcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX0lEIHx8ICcnLFxyXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVUIHx8ICcnLFxyXG4gICAgfSksXHJcbiAgXSxcclxuICBjYWxsYmFja3M6IHtcclxuICAgIHNlc3Npb246IGFzeW5jICh7IHNlc3Npb24sIHRva2VuIH0pID0+IHtcclxuICAgICAgaWYgKHNlc3Npb24/LnVzZXIgJiYgdG9rZW4/LnN1Yikge1xyXG4gICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLnN1YlxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzZXNzaW9uXHJcbiAgICB9LFxyXG4gICAgand0OiBhc3luYyAoeyB1c2VyLCB0b2tlbiB9KSA9PiB7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgdG9rZW4udWlkID0gdXNlci5pZFxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlblxyXG4gICAgfSxcclxuICB9LFxyXG4gIHNlc3Npb246IHtcclxuICAgIHN0cmF0ZWd5OiAnand0JyxcclxuICB9LFxyXG4gIHBhZ2VzOiB7XHJcbiAgICBzaWduSW46ICcvYXV0aC9zaWduaW4nLFxyXG4gICAgZXJyb3I6ICcvYXV0aC9lcnJvcicsXHJcbiAgfSxcclxufSAiXSwibmFtZXMiOlsiUHJpc21hQWRhcHRlciIsIkVtYWlsUHJvdmlkZXIiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiR29vZ2xlUHJvdmlkZXIiLCJwcmlzbWEiLCJiY3J5cHQiLCJhdXRoT3B0aW9ucyIsImFkYXB0ZXIiLCJwcm92aWRlcnMiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJpZCIsInNlcnZlciIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiRU1BSUxfU0VSVkVSX0hPU1QiLCJwb3J0IiwiTnVtYmVyIiwiRU1BSUxfU0VSVkVSX1BPUlQiLCJhdXRoIiwiRU1BSUxfU0VSVkVSX1VTRVIiLCJwYXNzIiwiRU1BSUxfU0VSVkVSX1BBU1NXT1JEIiwiZnJvbSIsIkVNQUlMX0ZST00iLCJjbGllbnRJZCIsIkdPT0dMRV9DTElFTlRfSUQiLCJjbGllbnRTZWNyZXQiLCJHT09HTEVfQ0xJRU5UX1NFQ1JFVCIsImNhbGxiYWNrcyIsInNlc3Npb24iLCJ0b2tlbiIsInN1YiIsImp3dCIsInVpZCIsInN0cmF0ZWd5IiwicGFnZXMiLCJzaWduSW4iLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkM7QUFFN0MsTUFBTUMsa0JBQWtCQztBQUlqQixNQUFNQyxTQUFTRixnQkFBZ0JFLE1BQU0sSUFBSSxJQUFJSCx3REFBWUEsR0FBRTtBQUVsRSxJQUFJSSxJQUF5QixFQUFjSCxnQkFBZ0JFLE1BQU0sR0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWRkeXVwLy4vc3JjL2xpYi9wcmlzbWEudHM/MDFkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcclxuXHJcbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XHJcbiAgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz8gbmV3IFByaXNtYUNsaWVudCgpXHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYSAiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYSIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/nodemailer","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/uuid","vendor-chunks/@next-auth","vendor-chunks/yallist","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/@swc","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchallenges%2Froute&page=%2Fapi%2Fchallenges%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchallenges%2Froute.ts&appDir=C%3A%5CUsers%5Cpursu%5CDocuments%5CGitHub%5CBuddyUp%5CBuddyUp%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpursu%5CDocuments%5CGitHub%5CBuddyUp%5CBuddyUp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();